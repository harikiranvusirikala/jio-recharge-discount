"use strict";(self.webpackChunkjio_vouchers_frontend=self.webpackChunkjio_vouchers_frontend||[]).push([[519],{8519:(A,v,s)=>{s.r(v),s.d(v,{AuthModule:()=>T});var u=s(6895),c=s(9965),t=s(433),e=s(8256),f=s(529),h=s(8420),p=s(1881);let S=(()=>{class n{constructor(o,i){this.informationService=o,this.restService=i,this.httpOptions={headers:new f.WM({})}}login(o){return this.restService.post(`${this.informationService.appUrl}/login`,o,this.httpOptions)}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(h.O),e.LFG(p.v))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var l=s(334),d=s(9016);function C(n,r){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Oqu(o.response.body)}}let b=(()=>{class n{constructor(o,i,a,g,m,k){this.loginSerivce=o,this.formBuilder=i,this.router=a,this.spinnerService=g,this.notifierService=m,this.restService=k,this.loadingMessage="Loading...",this.response=null,this.data=null,this.loginDetails=this.formBuilder.group({email:["",[t.kI.required,t.kI.email]],password:["",[t.kI.required,t.kI.minLength(8)]]})}ngOnInit(){}login(){this.loadingMessage="Logging in...",this.spinnerService.show(),this.loginSerivce.login(this.loginDetails.value).subscribe({next:o=>{console.log(o),this.response=o.message,this.data=o,sessionStorage.setItem("username",this.loginDetails.value.email),sessionStorage.setItem("accessToken",this.data.accessToken)},error:o=>{console.warn(o.error.message),this.response=o.error.message,this.spinnerService.hide(),this.notifierService.notify("error",o.error.message)},complete:()=>{this.spinnerService.hide(),this.notifierService.notify("success",this.response),this.router.navigate(["/","home"])}})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(S),e.Y36(t.QS),e.Y36(c.F0),e.Y36(l.t2),e.Y36(d.lG),e.Y36(p.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:5,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-5"],[1,"card"],[1,"card-title","text-center"],[1,"card-body","py-md-4"],["_lpchecked","1",3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","id","email","formControlName","email","placeholder","Email",1,"form-control"],["type","password","id","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],["routerLink","/signUp"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin-clockwise",3,"fullScreen"],[2,"color","white"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5,"Login"),e.qZA(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("ngSubmit",function(){return i.login()}),e.TgZ(8,"div",7),e._UZ(9,"input",8),e.qZA(),e.TgZ(10,"div",7),e._UZ(11,"input",9),e.qZA(),e.TgZ(12,"div",10)(13,"span")(14,"a",11),e._uU(15,"Sign Up"),e.qZA()(),e.TgZ(16,"button",12),e._uU(17,"Login Account"),e.qZA()()(),e.YNc(18,C,2,1,"div",13),e.qZA()()()()(),e.TgZ(19,"ngx-spinner",14)(20,"p",15),e._uU(21),e.qZA()(),e._UZ(22,"notifier-container")),2&o&&(e.xp6(7),e.Q6J("formGroup",i.loginDetails),e.xp6(9),e.Q6J("disabled",!i.loginDetails.valid),e.xp6(2),e.Q6J("ngIf",i.response),e.xp6(1),e.Q6J("fullScreen",!0),e.xp6(2),e.hij("",i.loadingMessage," "))},dependencies:[u.O5,c.yS,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,l.Ro,d.TK],styles:['@import"https://fonts.googleapis.com/css?family=PT+Sans";@media (min-width: 768px){.col-md-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%!important}}body[_ngcontent-%COMP%]{background:#fff;font-family:PT Sans,sans-serif}h2[_ngcontent-%COMP%]{padding-top:1.5rem}a[_ngcontent-%COMP%]{color:#333}a[_ngcontent-%COMP%]:hover{color:#0a2885;text-decoration:none}.card[_ngcontent-%COMP%]{border:.4rem solid #f8f9fa;top:10%}.form-control[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;margin-bottom:1.3rem}.form-control[_ngcontent-%COMP%]:focus{color:#000;background-color:#fff;border:3px solid #0F3CC9;outline:0;box-shadow:none}.btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;background:#0F3CC9;border:2px solid #0F3CC9;border-radius:250px}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0a2885;border-color:#0a2885;transition:.3s}.btn[_ngcontent-%COMP%]:disabled{background:#0F3CC9;border:2px solid #0F3CC9}']}),n})();class w{constructor(r,o,i){this.accessToken=r,this.oldPassword=o,this.newPassword=i}}let U=(()=>{class n{constructor(o,i){this.informationService=o,this.restService=i,this.httpOptions={headers:new f.WM({})}}resetPassword(o){return this.restService.post(`${this.informationService.appUrl}/changePassword`,o,this.httpOptions)}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(h.O),e.LFG(p.v))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P=(()=>{class n{constructor(o,i,a,g,m){this.resetPasswordService=o,this.restService=i,this.formBuilder=a,this.router=g,this.notifierService=m,this.response=void 0,this.resetPasswordDetails=this.formBuilder.group({oldPassword:["",[t.kI.required,t.kI.minLength(8)]],newPassword:["",[t.kI.required,t.kI.minLength(8)]]})}ngOnInit(){null==sessionStorage.getItem("username")&&this.router.navigate(["/","login"])}resetPassword(){this.resetPasswordService.resetPassword(new w(sessionStorage.getItem("accessToken")+"",this.resetPasswordDetails.value.oldPassword,this.resetPasswordDetails.value.newPassword)).subscribe({next:o=>{console.log(o),this.response=o.message},error:o=>{console.warn(o.error.message),this.response=o.error.message,this.notifierService.notify("error",o.error.message)},complete:()=>{this.notifierService.notify("success",this.response),this.router.navigate(["/","login"]).then(o=>{console.log(o)},o=>{console.log(o)})}})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(U),e.Y36(p.v),e.Y36(t.QS),e.Y36(c.F0),e.Y36(d.lG))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reset-password"]],decls:18,vars:3,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-5"],[1,"card"],[1,"card-title","text-center"],[1,"card-body","py-md-4"],["_lpchecked","1",3,"formGroup","ngSubmit"],[1,"form-group"],["type","password","id","oldPassword","formControlName","oldPassword","placeholder","Enter present password",1,"form-control"],["type","password","id","newPassword","formControlName","newPassword","placeholder","Enter new password",1,"form-control"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5,"Change Password"),e.qZA(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("ngSubmit",function(){return i.resetPassword()}),e.TgZ(8,"div",7),e._UZ(9,"input",8),e.qZA(),e.TgZ(10,"div",7),e._UZ(11,"input",9),e.qZA(),e.TgZ(12,"div",10)(13,"button",11),e._uU(14,"Change Password"),e.qZA()()(),e.TgZ(15,"div"),e._uU(16),e.qZA()()()()()(),e._UZ(17,"notifier-container")),2&o&&(e.xp6(7),e.Q6J("formGroup",i.resetPasswordDetails),e.xp6(6),e.Q6J("disabled",!i.resetPasswordDetails.valid),e.xp6(3),e.Oqu(i.response))},dependencies:[t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,d.TK],styles:['@import"https://fonts.googleapis.com/css?family=PT+Sans";@media (min-width: 768px){.col-md-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%!important}}body[_ngcontent-%COMP%]{background:#fff;font-family:PT Sans,sans-serif}h2[_ngcontent-%COMP%]{padding-top:1.5rem}a[_ngcontent-%COMP%]{color:#333}a[_ngcontent-%COMP%]:hover{color:#0a2885;text-decoration:none}.card[_ngcontent-%COMP%]{border:.4rem solid #f8f9fa;top:10%}.form-control[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;margin-bottom:1.3rem}.form-control[_ngcontent-%COMP%]:focus{color:#000;background-color:#fff;border:3px solid #0F3CC9;outline:0;box-shadow:none}.btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;background:#0F3CC9;border:2px solid #0F3CC9;border-radius:250px}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0a2885;border-color:#0a2885;transition:.3s}.btn[_ngcontent-%COMP%]:disabled{background:#0F3CC9;border:2px solid #0F3CC9}']}),n})(),_=(()=>{class n{constructor(o,i){this.informationService=o,this.restService=i,this.httpOptions={headers:new f.WM({})}}signUp(o){return this.restService.post(`${this.informationService.appUrl}/signUp`,o,this.httpOptions)}confirmSignUp(o){return this.restService.post(`${this.informationService.appUrl}/confirmSignUp`,o,this.httpOptions)}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(h.O),e.LFG(p.v))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y(n,r){if(1&n){const o=e.EpF();e.TgZ(0,"form",9),e.NdJ("ngSubmit",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.signUp())}),e.TgZ(1,"div",10),e._UZ(2,"input",11),e.qZA(),e.TgZ(3,"div",10),e._UZ(4,"input",12),e.qZA(),e.TgZ(5,"div",10),e._UZ(6,"input",13),e.qZA(),e.TgZ(7,"div",14)(8,"a",15),e._uU(9,"Login"),e.qZA(),e.TgZ(10,"button",16),e._uU(11,"Create Account"),e.qZA()()()}if(2&n){const o=e.oxw();e.Q6J("formGroup",o.signUpDetails),e.xp6(10),e.Q6J("disabled",!o.signUpDetails.valid)}}function x(n,r){if(1&n){const o=e.EpF();e.TgZ(0,"form",9),e.NdJ("ngSubmit",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.confirmSignUp())}),e.TgZ(1,"div",10),e._UZ(2,"input",17),e.qZA(),e.TgZ(3,"div",14)(4,"a",15),e._uU(5,"Login"),e.qZA(),e.TgZ(6,"button",16),e._uU(7,"Confirm Account"),e.qZA()()()}if(2&n){const o=e.oxw();e.Q6J("formGroup",o.confirmSignUpDetails),e.xp6(6),e.Q6J("disabled",!o.confirmSignUpDetails.valid)}}const Z=[{path:"signUp",component:(()=>{class n{constructor(o,i,a,g,m){this.signUpService=o,this.formBuilder=i,this.router=a,this.spinnerService=g,this.notifierService=m,this.loadingMessage="Loading...",this.response=void 0,this.signUpSuccess=!1,this.signUpDetails=this.formBuilder.group({email:["",[t.kI.required,t.kI.email]],phoneNumber:["",[t.kI.required]],password:["",[t.kI.required,t.kI.minLength(8)]]}),this.confirmSignUpDetails=this.formBuilder.group({email:["undefined",t.kI.required],confirmationCode:["",[t.kI.required,t.kI.pattern("[0-9]{6}")]]})}ngOnInit(){}signUp(){this.loadingMessage="Sending Sign Up Request...",this.spinnerService.show(),this.signUpService.signUp(this.signUpDetails.value).subscribe({next:o=>{console.log(o),this.response=o.message},error:o=>{console.warn(o.error.message),this.response=o.error.message,this.spinnerService.hide(),this.notifierService.notify("error",o.error.message)},complete:()=>{this.signUpSuccess=!0,this.spinnerService.hide(),this.notifierService.notify("success",this.response)}})}confirmSignUp(){this.loadingMessage="Confirming Sign Up...",this.spinnerService.show(),this.confirmSignUpDetails.value.email=this.signUpDetails.value.email,this.signUpService.confirmSignUp(this.confirmSignUpDetails.value).subscribe({next:o=>{console.log(o),this.response=o.message},error:o=>{console.warn(o.error.message),this.response=o.error.message,this.spinnerService.hide(),this.notifierService.notify("error",o.error.message)},complete:()=>{this.signUpSuccess=!1,this.spinnerService.hide(),this.notifierService.notify("success",this.response),this.router.navigate(["/","login"])}})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(_),e.Y36(t.QS),e.Y36(c.F0),e.Y36(l.t2),e.Y36(d.lG))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sign-up"]],decls:15,vars:5,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-5"],[1,"card"],[1,"card-title","text-center"],[1,"card-body","py-md-4"],["_lpchecked","1",3,"formGroup","ngSubmit",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin-clockwise",3,"fullScreen"],[2,"color","white"],["_lpchecked","1",3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","id","email","formControlName","email","placeholder","Email",1,"form-control"],["type","text","id","phoneNumber","formControlName","phoneNumber","placeholder","Enter your Jio number here (including +91)",1,"form-control"],["type","password","id","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],["routerLink","/login"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","text","id","confirmationCode","formControlName","confirmationCode","placeholder","Enter 6 digit Confirmation Code",1,"form-control"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5,"Sign Up"),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,y,12,2,"form",6),e.YNc(8,x,8,2,"form",6),e.TgZ(9,"div"),e._uU(10),e.qZA()()()()()(),e.TgZ(11,"ngx-spinner",7)(12,"p",8),e._uU(13),e.qZA()(),e._UZ(14,"notifier-container")),2&o&&(e.xp6(7),e.Q6J("ngIf",!i.signUpSuccess),e.xp6(1),e.Q6J("ngIf",i.signUpSuccess),e.xp6(2),e.Oqu(i.response),e.xp6(1),e.Q6J("fullScreen",!0),e.xp6(2),e.hij("",i.loadingMessage," "))},dependencies:[u.O5,c.yS,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,l.Ro,d.TK],styles:['@import"https://fonts.googleapis.com/css?family=PT+Sans";@media (min-width: 768px){.col-md-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%!important}}body[_ngcontent-%COMP%]{background:#fff;font-family:PT Sans,sans-serif}h2[_ngcontent-%COMP%]{padding-top:1.5rem}a[_ngcontent-%COMP%]{color:#333}a[_ngcontent-%COMP%]:hover{color:#0a2885;text-decoration:none}.card[_ngcontent-%COMP%]{border:.4rem solid #f8f9fa;top:10%}.form-control[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;margin-bottom:1.3rem}.form-control[_ngcontent-%COMP%]:focus{color:#000;background-color:#fff;border:3px solid #0F3CC9;outline:0;box-shadow:none}.btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;background:#0F3CC9;border:2px solid #0F3CC9;border-radius:250px}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0a2885;border-color:#0a2885;transition:.3s}.btn[_ngcontent-%COMP%]:disabled{background:#0F3CC9;border:2px solid #0F3CC9}']}),n})()},{path:"login",component:b},{path:"changePassword",component:P}];let M=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(Z),c.Bz]}),n})();const O={position:{horizontal:{position:"right",distance:12},vertical:{position:"top",distance:12,gap:10}},theme:"material",behaviour:{autoHide:15e3,onClick:"hide",onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:4},animations:{enabled:!0,show:{preset:"slide",speed:300,easing:"ease"},hide:{preset:"fade",speed:300,easing:"ease",offset:50},shift:{speed:300,easing:"ease"},overlap:150}};let T=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,M,t.u5,t.UX,l.ef,d.Eb.withConfig(O)]}),n})()}}]);